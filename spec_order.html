<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.5 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="vi" class="no-js">
<head>
    <meta charset="utf-8">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MKP69WF');</script>
<!-- End Google Tag Manager -->

<!-- begin _includes/seo.html --><title>Liên quan đến đơn hàng - &lt; for EC-CUBE 4 Developers /&gt;</title>
<meta name="description" content="Quy trình xử lý trạng thái đơn hàng">



<meta property="og:type" content="article">
<meta property="og:locale" content="vi_VN">
<meta property="og:site_name" content="EC-CUBE 4 開発者向けドキュメントサイト">
<meta property="og:title" content="Liên quan đến đơn hàng">
<meta property="og:url" content="https://thanpd-ptit.github.io/doc4-ec-cube-vn/spec_order">


  <meta property="og:description" content="Quy trình xử lý trạng thái đơn hàng">



  <meta property="og:image" content="https://thanpd-ptit.github.io/doc4-ec-cube-vn/assets/images/site-logo.png">





  <meta property="article:published_time" content="2025-06-20T09:42:25+00:00">





  

  


<link rel="canonical" href="https://thanpd-ptit.github.io/doc4-ec-cube-vn/spec_order">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://thanpd-ptit.github.io/doc4-ec-cube-vn",
      "logo": "https://thanpd-ptit.github.io/doc4-ec-cube-vn/assets/images/site-logo.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "EC-CUBE",
      "url": "https://thanpd-ptit.github.io/doc4-ec-cube-vn",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->

<!-- Google Search Console -->
<meta name="google-site-verification" content="RaTQVaBvAuWi45pAV3ydq19nxTrbyV1vooYDZqFA5kQ" />


<link href="/doc4-ec-cube-vn/feed.xml" type="application/atom+xml" rel="alternate" title="< for EC-CUBE 4 Developers /> Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/doc4-ec-cube-vn/assets/css/main.css">
<link rel="stylesheet" href="/doc4-ec-cube-vn/assets/font-awesome-4.7.0/css/font-awesome.min.css">
<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="shortcut icon" href="/assets/images/favicon.ico">

<!-- end custom head snippets -->

</head>

<body class="layout--single">
<nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

<!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->



<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/doc4-ec-cube-vn/">
          < for EC-CUBE 4 Developers />
          <span class="site-subtitle">EC-CUBE 4 開発者向けドキュメントサイト</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://www.ec-cube.net/" target="_blank" >Về EC-CUBE</a>
            </li><li class="masthead__menu-item">
              <a href="https://xoops.ec-cube.net/" target="_blank" >Cộng đồng phát triển</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


<div class="initial-content">
    



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">ec-cube.co</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co" class="">ec-cube.co là gì</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_security" class="">Về các biện pháp bảo mật</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_update_guidelines" class="">Hướng dẫn cập nhật</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_console" class="">Console</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_naming_rules" class="">Quy tắc đặt tên</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_git" class="">Đặc tả chức năng quản lý Git</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_customize_dir_usage" class="">Cách sử dụng thư mục tùy chỉnh</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_staging" class="">Xây dựng môi trường thử nghiệm</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_log" class="">Cách lấy log</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/co/co_faq" class="">FAQ</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Giới thiệu</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/quickstart/latest_version" class="">Phiên bản mới nhất</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/quickstart/requirement" class="">Yêu cầu hệ thống</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/quickstart/cautions_of_prod" class="">Lưu ý khi sử dụng trong môi trường sản xuất</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Thông tin cho người mới bắt đầu</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/learning/learning_step" class="">Các bước học tập</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Cài đặt</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/quickstart/install" class="">Các phương pháp cài đặt khác nhau</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/quickstart/cli" class="">Giao diện dòng lệnh</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Nâng cấp phiên bản</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update43" class="">Nâng cấp phiên bản chính từ 4.2 lên 4.3</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update-42-43" class="">Di chuyển từ 4.2 lên 4.3</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update-41-42" class="">Di chuyển từ 4.1 lên 4.2</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update41" class="">Nâng cấp phiên bản chính từ 4.0 lên 4.1</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update-40-41" class="">Di chuyển từ 4.0 lên 4.1</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update42x" class="">Nâng cấp phiên bản chính 4.2</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update41x" class="">Nâng cấp phiên bản chính 4.1</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update" class="">Nâng cấp phiên bản chính 4.0</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/update/4_0_3" class="">Lưu ý trong phiên bản 4.0.3</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/hotfix_samesite_cookie" class="">Hỗ trợ Cookie SameSite</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Đặc tả chức năng</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="https://www.ec-cube.net/product/functions.php" target="_blank" class="">Danh sách chức năng</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/spec_order" class="active">Liên quan đến đơn hàng</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/spec_tax" class="">Cài đặt thuế suất</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/spec_payment" class="">Cài đặt phương thức thanh toán</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Tùy chỉnh hệ thống</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/spec_directory-structure" class="">Cấu trúc thư mục</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_controller" class="">Tùy chỉnh Controller</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_entity" class="">Tùy chỉnh Entity</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_repository" class="">Tùy chỉnh Repository</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_formtype" class="">Tùy chỉnh FormType</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_service" class="">Tùy chỉnh quy trình mua hàng</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_order_state_machine" class="">Tùy chỉnh trạng thái đơn hàng</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_template" class="">Tùy chỉnh mẫu giao diện</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_throttling" class="">Tùy chỉnh chức năng throttling</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_twig_sandbox" class="">Kiểm soát danh sách cho phép bằng Twig Sandbox</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_symfony" class="">Mở rộng bằng chức năng của Symfony</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/customize_symfony#command" class="">Phát triển Command</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Tùy chỉnh thiết kế</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_template" class="">Cơ bản về mẫu thiết kế</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_block" class="">Sử dụng block</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_layout" class="">Sử dụng quản lý bố cục</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_img" class="">Về quản lý hình ảnh</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_css" class="">Sử dụng CSS</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_sass" class="">Sử dụng Sass(scss)</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_form" class="">Thay đổi bố cục form</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/design_messages" class="">Tùy chỉnh thông điệp</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="https://eccube4-styleguide.herokuapp.com" target="_blank" class="">Tài liệu tham khảo thiết kế giao diện người dùng (hướng dẫn phong cách)</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="https://thanpd-ptit.github.io/doc4-ec-cube-vn/pdf/ec-cube4_design-guide180930.pdf" target="_blank" class="">Tài liệu tham khảo thiết kế giao diện quản trị (hướng dẫn thiết kế)</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="http://downloads.ec-cube.net/manual/documents/eccube4_xd_front_template.zip?argument=2qpV46CP&dmai=a5bf51b05bacc5" target="_blank" class="">Mẫu giao diện người dùng cho Adobe XD</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="http://downloads.ec-cube.net/manual/documents/eccube4_xd_admin_template.zip?argument=2qpV46CP&dmai=a5bf51b05bacc5" target="_blank" class="">Mẫu giao diện quản trị cho Adobe XD</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Phát triển plugin</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_spec" class="">Đặc tả plugin</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_install" class="">Cài đặt plugin</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_error" class="">Cách xử lý sự cố plugin</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_sample" class="">Mẫu plugin</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_development" class="">Phát triển plugin</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_mock_package_api" class="">Kiểm tra cài đặt qua Owner's Store</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_naming_conventions" class="">Quy tắc đặt tên khuyến nghị cho plugin</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_admin_nav" class="">Mở rộng điều hướng quản trị</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/plugin_eccube40" class="">Lưu ý khi sử dụng EC-CUBE4.0 (Composer v1)</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Thay đổi cài đặt</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/i18n_multilingualization" class="">Đa ngôn ngữ</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/i18n_currency" class="">Tiền tệ</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/i18n_timezone" class="">Múi giờ</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/environmental_setting" class="">Cài đặt môi trường</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/debug_mode" class="">Chế độ gỡ lỗi</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/session_handler_settings" class="">Phương pháp lưu trữ phiên</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Công cụ phát triển</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/development-tools/mail-catcher" class="">MailCatcher</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Thực hiện kiểm tra bảo mật</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing" class="">Giới thiệu</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing/quick_start" class="">Bắt đầu nhanh</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing/introduction" class="">Giới thiệu</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing/about_owaspzap" class="">Về OWASP ZAP</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing/planning" class="">Lập kế hoạch kiểm tra</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing/testing" class="">Thực hiện kiểm tra</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing/review" class="">Đánh giá kiểm tra</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/penetration-testing/improvement" class="">Cải thiện bảo mật</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Hướng dẫn bảo mật</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/security-guideline/coding" class="">Về mã hóa</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/security-guideline/plugin" class="">Tăng cường bảo mật trong phát triển plugin</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Tham khảo ngược</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/reverse-lookup/tips" class="">Mẹo</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/reverse-lookup/sample-code" class="">Bộ sưu tập mẫu tùy chỉnh</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Tham gia phát triển</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="https://www.ec-cube.net/committer/" target="_blank" class="">Làm thế nào để tham gia phát triển EC-CUBE? (Trang web chính thức)</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/contribution-guide/overview" class="">Tổng quan về phát triển</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/contribution-guide/pull-request" class="">Cách tạo pull request</a></li>
              
          
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Khi không tìm thấy tài liệu</span>
        

        
        <ul>
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/documents/request" class="">Yêu cầu tài liệu</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/documents/writing-and-formatting" class="">Thêm và viết tài liệu</a></li>
              
          
          
            
              
              

              
              

              
                <li><a href="/doc4-ec-cube-vn/documents/contribute" class="">Đóng góp tài liệu</a></li>
              
          
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Liên quan đến đơn hàng">
    <meta itemprop="description" content="Quy trình xử lý trạng thái đơn hàng">
    <meta itemprop="datePublished" content="June 20, 2025">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Liên quan đến đơn hàng
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
<!--
            <a href="#disqus_thread" style="font-size:21px;margin-bottom:3px;">
              <img src="//c.disquscdn.com/next/current/publisher-admin/assets/img/emoji/love-512x512.png" style="height: 24px;width: 24px;">
              ページを評価/質問する
              <img src="//c.disquscdn.com/next/current/publisher-admin/assets/img/emoji/sad-512x512.png" style="height: 24px;width: 24px;">
            </a>
-->
            <a href="https://github.com/thanpd-ptit/doc4-ec-cube-vn/edit/gh-pages/_pages/spec/order.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Chỉnh sửa trang</a>
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Mục lục</h4></header>
              <ul class="toc__menu">
  <li><a href="#quy-trình-xử-lý-trạng-thái-đơn-hàng">Quy trình xử lý trạng thái đơn hàng</a>
    <ul>
      <li><a href="#so-sánh-với-phiên-bản-3">So sánh với phiên bản 3</a>
        <ul>
          <li><a href="#xử-lý-trạng-thái-khi-huỷ-đơn-trả-hàng">Xử lý trạng thái khi huỷ đơn/ trả hàng</a>
            <ul>
              <li><a href="#huỷ-đơn-hàng">Huỷ đơn hàng</a></li>
              <li><a href="#trả-hàng">Trả hàng</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#quy-tắc-tính-phí">Quy tắc tính phí</a>
    <ul>
      <li><a href="#sơ-đồ-er-các-bảng-liên-quan-đến-đơn-hàng">Sơ đồ ER các bảng liên quan đến đơn hàng</a></li>
      <li><a href="#những-thay-đổi-chính-so-với-phiên-bản-3">Những thay đổi chính so với phiên bản 3</a></li>
      <li><a href="#cách-tính-toán">Cách tính toán</a></li>
      <li><a href="#thuộc-tính-dòng-chi-tiết-đơn-hàng">Thuộc tính dòng chi tiết đơn hàng</a>
        <ul>
          <li><a href="#phân-loại-dòng-chi-tiết">Phân loại dòng chi tiết</a></li>
          <li><a href="#phân-loại-thuế">Phân loại thuế</a></li>
          <li><a href="#phân-loại-hiển-thị-thuế">Phân loại hiển thị thuế</a></li>
        </ul>
      </li>
      <li><a href="#tính-điểm-thưởng">Tính điểm thưởng</a>
        <ul>
          <li><a href="#tính-toán-khi-sử-dụng-điểm-thưởng">Tính toán khi sử dụng điểm thưởng</a></li>
          <li><a href="#tính-toán-khi-cộng-điểm-thưởng">Tính toán khi cộng điểm thưởng</a></li>
        </ul>
      </li>
      <li><a href="#tính-điều-kiện-miễn-phí-vận-chuyển">Tính điều kiện miễn phí vận chuyển</a></li>
      <li><a href="#thiết-lập-thuế-tiêu-thụ">Thiết lập thuế tiêu thụ</a></li>
      <li><a href="#về-thiết-lập-thuế-suất-theo-sản-phẩm">Về thiết lập thuế suất theo sản phẩm</a></li>
      <li><a href="#về-loại-hình-bán-hàng">Về loại hình bán hàng</a></li>
    </ul>
  </li>
</ul>
            </nav>
          </aside>
        
        <h2 id="quy-trình-xử-lý-trạng-thái-đơn-hàng">Quy trình xử lý trạng thái đơn hàng</h2>

<p><img src="./images/spec/order-statemachine.png" alt="Sơ đồ trạng thái đơn hàng" /></p>

<p><a href="https://github.com/EC-CUBE/ec-cube/pull/3325">Tham khảo: Triển khai State Machine cho đơn hàng #3325</a></p>

<h3 id="so-sánh-với-phiên-bản-3">So sánh với phiên bản 3</h3>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>3.x<br /> mtb_order_status<br />(Hiển thị phía quản trị)</th>
      <th>3.x<br /> mtb_customer_order_status<br />(Hiển thị phía khách)</th>
      <th>4.x<br /> mtb_order_status<br />(Hiển thị phía quản trị)</th>
      <th>4.x<br />mtb_customer_order_status<br />(Hiển thị phía khách)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Tiếp nhận mới</td>
      <td>Đã nhận đơn hàng</td>
      <td>Tiếp nhận mới</td>
      <td>Đã nhận đơn hàng</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Chờ thanh toán</td>
      <td>Chờ thanh toán</td>
      <td>(Bỏ qua)</td>
      <td>(Bỏ qua)</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Huỷ đơn</td>
      <td>Huỷ đơn</td>
      <td>Huỷ đơn hàng</td>
      <td>Huỷ đơn hàng</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Đang đặt hàng</td>
      <td>Đã nhận đơn hàng</td>
      <td>Đang xử lý</td>
      <td>Đã nhận đơn hàng</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Đã giao hàng</td>
      <td>Đã giao hàng</td>
      <td>Đã giao hàng</td>
      <td>Đã giao hàng</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Đã thanh toán</td>
      <td>Đã nhận đơn hàng</td>
      <td>Đã thanh toán</td>
      <td>Đã nhận đơn hàng</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Đang xử lý thanh toán</td>
      <td>Đơn chưa hoàn tất</td>
      <td>Đang xử lý thanh toán</td>
      <td>Đã nhận đơn hàng</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Đang xử lý mua hàng</td>
      <td>Đơn chưa hoàn tất</td>
      <td>Đang xử lý mua hàng</td>
      <td>Đơn chưa hoàn tất</td>
    </tr>
    <tr>
      <td>9</td>
      <td>(Không có)</td>
      <td>(Không có)</td>
      <td>Trả hàng</td>
      <td>Trả hàng</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>Để thuận tiện cho việc di chuyển dữ liệu, hạn chế thay đổi ID.</li>
  <li><strong>4: Đang đặt hàng</strong> được gộp thành <strong>4: Đang xử lý</strong>.</li>
  <li><strong>2: Chờ thanh toán</strong> bị xoá. Trạng thái này trước đây dùng cho các phương thức thanh toán liên kết chờ xác nhận thanh toán. Trạng thái này sẽ được xử lý bằng <strong>7: Đang xử lý thanh toán</strong>. Đối với chuyển khoản ngân hàng hoặc chờ thanh toán trước khi giao hàng sẽ xử lý ở <strong>1: Tiếp nhận mới</strong>.</li>
  <li><strong>3: Huỷ đơn</strong> đổi thành <strong>3: Huỷ đơn hàng</strong>. Dùng khi huỷ trước khi giao hàng (do có thêm trạng thái trả hàng nên đổi tên cho dễ hiểu).</li>
  <li>Thêm mới <strong>9: Trả hàng</strong>.</li>
</ul>

<p>Luồng trạng thái chính:</p>

<p>“Đang xử lý mua hàng” → “Đang xử lý thanh toán” → “Tiếp nhận mới” → “Đã thanh toán” hoặc “Đang xử lý” → “Đã giao hàng” → Nếu có huỷ sau khi giao thì chuyển sang “Trả hàng”</p>

<h4 id="xử-lý-trạng-thái-khi-huỷ-đơn-trả-hàng">Xử lý trạng thái khi huỷ đơn/ trả hàng</h4>

<h5 id="huỷ-đơn-hàng">Huỷ đơn hàng</h5>

<p>Nếu huỷ trước khi giao hàng, chọn huỷ đơn sẽ hoàn lại tồn kho và điểm thưởng.</p>

<p>Khi đã chọn “Đã giao hàng” thì không thể chọn “Huỷ đơn hàng” nữa.</p>

<h5 id="trả-hàng">Trả hàng</h5>

<p>Sau khi giao hàng, nếu có trả hàng thì chọn trả hàng. Khi trả hàng sẽ không hoàn lại tồn kho và điểm thưởng.</p>

<h2 id="quy-tắc-tính-phí">Quy tắc tính phí</h2>

<h3 id="sơ-đồ-er-các-bảng-liên-quan-đến-đơn-hàng">Sơ đồ ER các bảng liên quan đến đơn hàng</h3>

<p><img src="./images/spec/order-erdiagram.png" alt="Sơ đồ ER các bảng liên quan đến đơn hàng" /></p>

<h3 id="những-thay-đổi-chính-so-với-phiên-bản-3">Những thay đổi chính so với phiên bản 3</h3>

<ul>
  <li>dtb_shipment_item đổi thành dtb_order_item.</li>
  <li>dtb_order_detail bị loại bỏ.</li>
  <li>Quan hệ giữa các bảng đổi thành: dtb_order <strong>1:N</strong> dtb_order_item <strong>N:1</strong> dtb_shipping.</li>
  <li>Ngoài sản phẩm, các mục như phí vận chuyển, phí xử lý, giảm giá… cũng được quản lý như một dòng chi tiết trong dtb_order_item.</li>
</ul>

<h3 id="cách-tính-toán">Cách tính toán</h3>

<p>Tính tổng số tiền thanh toán dựa trên thuộc tính của từng dòng chi tiết đơn hàng.
Lưu ý cách tính sẽ khác nhau tuỳ thuộc vào thuộc tính, như ví dụ dưới đây.</p>

<p>Dòng sản phẩm được đăng ký với <strong>giá chưa thuế</strong>, nên khi tính tổng sẽ <strong>cộng thêm phần thuế</strong>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Tổng dòng = (Đơn giá sản phẩm x Thuế suất) x Số lượng
</code></pre></div></div>

<p>Dòng phí vận chuyển được đăng ký với <strong>giá đã bao gồm thuế</strong>, nên khi tính tổng <strong>không cộng thêm thuế</strong>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Tổng dòng = Đơn giá vận chuyển x Số lượng
</code></pre></div></div>

<p><a href="https://github.com/EC-CUBE/ec-cube/pull/3420">Tham khảo: #3420 Kết quả tính toán theo loại dòng chi tiết</a></p>

<h3 id="thuộc-tính-dòng-chi-tiết-đơn-hàng">Thuộc tính dòng chi tiết đơn hàng</h3>

<h4 id="phân-loại-dòng-chi-tiết">Phân loại dòng chi tiết</h4>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>name</th>
      <th>Ghi chú</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Sản phẩm</td>
      <td> </td>
    </tr>
    <tr>
      <td>2</td>
      <td>Phí vận chuyển</td>
      <td> </td>
    </tr>
    <tr>
      <td>3</td>
      <td>Phí xử lý</td>
      <td> </td>
    </tr>
    <tr>
      <td>4</td>
      <td>Giảm giá</td>
      <td>Chủ yếu dùng cho giảm giá sản phẩm. Có tính thuế.</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Thuế</td>
      <td>Dùng khi đánh thuế cho toàn bộ đơn hàng.</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Giảm giá điểm</td>
      <td>Dùng cho giảm giá bằng điểm thưởng. Không tính thuế.</td>
    </tr>
  </tbody>
</table>

<h4 id="phân-loại-thuế">Phân loại thuế</h4>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>name</th>
      <th>Ghi chú</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Có thuế</td>
      <td> </td>
    </tr>
    <tr>
      <td>2</td>
      <td>Không thuế</td>
      <td>Giảm giá bằng điểm, v.v.</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Miễn thuế</td>
      <td>Chuyển nhượng phiếu quà tặng, v.v.</td>
    </tr>
  </tbody>
</table>

<h4 id="phân-loại-hiển-thị-thuế">Phân loại hiển thị thuế</h4>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>name</th>
      <th>Ghi chú</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Chưa thuế</td>
      <td>Đăng ký với giá chưa thuế (sản phẩm, v.v.)</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Đã bao gồm thuế</td>
      <td>Đăng ký với giá đã bao gồm thuế (phí vận chuyển, v.v.)</td>
    </tr>
  </tbody>
</table>

<h3 id="tính-điểm-thưởng">Tính điểm thưởng</h3>

<h4 id="tính-toán-khi-sử-dụng-điểm-thưởng">Tính toán khi sử dụng điểm thưởng</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Số tiền giảm giá bằng điểm = Số điểm sử dụng * Tỷ lệ quy đổi điểm
</code></pre></div></div>

<p>Làm tròn xuống phần lẻ. Phân loại thuế là không thuế.</p>

<h4 id="tính-toán-khi-cộng-điểm-thưởng">Tính toán khi cộng điểm thưởng</h4>

<p>Điểm thưởng được tính trên dòng sản phẩm.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Điểm cộng = Đơn giá sản phẩm (chưa thuế) * Tỷ lệ cộng điểm * Số lượng
</code></pre></div></div>

<p>Nếu có sử dụng điểm thưởng, số điểm giảm giá sẽ bị trừ đi.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Điểm trừ = Số tiền giảm giá bằng điểm * Tỷ lệ cộng điểm * Số lượng
</code></pre></div></div>

<p>Tổng điểm cộng và điểm trừ là tổng điểm cuối cùng được cộng cho đơn hàng đó.</p>

<h3 id="tính-điều-kiện-miễn-phí-vận-chuyển">Tính điều kiện miễn phí vận chuyển</h3>

<p>Khi thiết lập điều kiện miễn phí vận chuyển, hệ thống sẽ tính tổng giá trị sản phẩm (đã bao gồm thuế) cho từng địa chỉ nhận hàng để xác định điều kiện miễn phí vận chuyển.</p>

<p>Ví dụ: Điều kiện miễn phí vận chuyển: 3,000 yên</p>

<table>
  <thead>
    <tr>
      <th>Địa chỉ nhận hàng</th>
      <th>Tổng giá trị sản phẩm</th>
      <th>Được miễn phí vận chuyển</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Địa chỉ A</td>
      <td>2,900</td>
      <td>×</td>
    </tr>
    <tr>
      <td>Địa chỉ B</td>
      <td>3,200</td>
      <td>○</td>
    </tr>
  </tbody>
</table>

<h3 id="thiết-lập-thuế-tiêu-thụ">Thiết lập thuế tiêu thụ</h3>

<h3 id="về-thiết-lập-thuế-suất-theo-sản-phẩm">Về thiết lập thuế suất theo sản phẩm</h3>

<p>Có thể thiết lập các tuỳ chọn sau:</p>

<ul>
  <li>Thiết lập thuế suất trên màn hình đăng ký sản phẩm (sản phẩm không có phân loại)</li>
  <li>Thiết lập thuế suất trên màn hình đăng ký phân loại sản phẩm (sản phẩm có phân loại)</li>
  <li>Nếu để trống sẽ xoá thuế suất trong dtb_tax_rule</li>
</ul>

<p>Một số lưu ý:</p>

<ul>
  <li>Không lưu lịch sử như thuế suất chung.</li>
  <li>Khi đăng ký/chỉnh sửa sản phẩm, thuế suất riêng luôn được cập nhật.</li>
  <li>Khi chỉnh sửa đơn hàng:
    <ul>
      <li>Dòng chi tiết có thuế suất riêng luôn được cập nhật với giá trị mới nhất.</li>
      <li>Nếu thuế suất trên sản phẩm bị xoá, sẽ áp dụng thuế suất cơ bản.</li>
    </ul>
  </li>
</ul>

<h3 id="về-loại-hình-bán-hàng">Về loại hình bán hàng</h3>

<p>Có thể thiết lập loại hình bán hàng để phân tách phương thức thanh toán theo từng loại hình.</p>

<p>Nếu thêm các sản phẩm thuộc loại hình bán hàng khác nhau vào giỏ cùng lúc, giỏ sẽ được tách riêng theo từng loại hình. Người dùng sẽ tiến hành đặt hàng cho từng giỏ riêng biệt.</p>


        
      </section>

      <footer class="page__meta">
        
        
  





        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Ngày cập nhật:</strong> <time datetime="2025-06-20T09:42:25+00:00">June 20, 2025</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Chia sẻ trang</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Li%C3%AAn+quan+%C4%91%E1%BA%BFn+%C4%91%C6%A1n+h%C3%A0ng%20https%3A%2F%2Fthanpd-ptit.github.io%2Fdoc4-ec-cube-vn%2Fspec_order" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Chia sẻ trang Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fthanpd-ptit.github.io%2Fdoc4-ec-cube-vn%2Fspec_order" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Chia sẻ trang Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>
</section>


<!--
      <div style="font-size: 15pt;margin-top:20px;margin-bottom:-30px;">
        <div>　</div>
        <div>　</div>
        <div style="font-weight:bold;">■質問、書いてほしい情報など、気軽にコメントしてみましょう！</div>
        <div>コメント例：</div>
        <div>　「手順通りやったけど、◯◯の部分でうまくいかない」</div>
        <div>　「◯◯の部分について、もう少し手順を詳細に記載してよ」</div>
        <div>　「最初から、こういう情報があればわかりやすかった」</div>
      </div>
-->

      <!--
  <nav class="pagination">
    
      <a href="/doc4-ec-cube-vn/spec_directory-structure" class="pagination--pager" title="Cấu trúc thư mục và tệp tin
">Trước</a>
    
    
      <a href="/doc4-ec-cube-vn/spec_payment" class="pagination--pager" title="Thiết lập phương thức thanh toán
">Sau</a>
    
  </nav>
-->
    </div>

    
      <div class="page__comments">
  
  
</div>

    
  </article>

  
  
</div>

</div>


<div class="search-content">
    <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Nhập từ khóa tìm kiếm..." />
  </form>
  <div id="results" class="results"></div></div>

</div>


<div id="footer" class="page__footer">
    <footer>
        <!-- start custom footer snippets -->

<!-- Navメニュー -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $('.nav__sub-title').on('click',function(){
        $(this).toggleClass('active');
        $(this).next('ul').slideToggle();
    });
    $(function(){
        $("a.active").parents('ul').css("display", "block");
    });
</script>

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Theo dõi</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/doc4-ec-cube-vn/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 EC-CUBE. Phát triển bởi <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

    </footer>
</div>


  <script src="/doc4-ec-cube-vn/assets/js/main.min.js"></script>




<script src="/doc4-ec-cube-vn/assets/js/lunr/lunr.min.js"></script>
<script src="/doc4-ec-cube-vn/assets/js/lunr/lunr-store.js"></script>
<script src="/doc4-ec-cube-vn/assets/js/lunr/lunr-en.js"></script>









</body>
</html>
